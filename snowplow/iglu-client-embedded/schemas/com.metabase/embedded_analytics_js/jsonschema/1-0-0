{
  "$schema": "http://iglucentral.com/schemas/com.snowplowanalytics.self-desc/schema/jsonschema/1-0-0#",
  "description": "Embedded Analytics JS configuration",
  "self": {
    "vendor": "com.metabase",
    "name": "embedded_analytics_js",
    "format": "jsonschema",
    "version": "1-0-0"
  },
  "type": "object",
  "properties": {
    "event": {
      "description": "The type of event being recorded. For example, when the Embedded Analytics JS is initialized, or when the Metabase configuration is updated.",
      "type": "string",
      "enum": [
        "setup"
      ],
      "maxLength": 1024
    },
    "global": {
      "description": "Global configuration for Embedded Analytics JS.",
      "type": "object",
      "properties": {
        "auth_method": {
          "description": "Authentication method used for the Embedded Analytics JS.",
          "type": "string",
          "enum": [
            "session",
            "api_key",
            "sso"
          ],
          "maxLength": 1024
        }
      }
    },
    "dashboard": {
      "description": "Counts of <metabase-dashboard> component properties.",
      "type": [
        "object",
        "null"
      ],
      "properties": {
        "drills": {
          "description": "Counts of dashboards with drills enabled or disabled.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of dashboards with drills enabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of dashboards with drills disabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        },
        "with_downloads": {
          "description": "Counts of dashboards with downloads enabled or disabled.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of dashboards with downloads enabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of dashboards with downloads disabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        },
        "with_title": {
          "description": "Counts of dashboards with title shown or hidden.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of dashboards with title shown.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of dashboards with title hidden.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        }
      }
    },
    "question": {
      "description": "Counts of <metabase-question> component properties.",
      "type": [
        "object",
        "null"
      ],
      "properties": {
        "drills": {
          "description": "Counts of questions with drills enabled or disabled.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of questions with drills enabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of questions with drills disabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        },
        "with_downloads": {
          "description": "Counts of questions with downloads enabled or disabled.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of questions with downloads enabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of questions with downloads disabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        },
        "with_title": {
          "description": "Counts of questions with title shown or hidden.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of questions with title shown.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of questions with title hidden.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        },
        "is_save_enabled": {
          "description": "Counts of questions with save enabled or disabled.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of questions with save enabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of questions with save disabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        }
      }
    },
    "exploration": {
      "description": "Counts of <metabase-question> component with question-id=\"new\" properties.",
      "type": [
        "object",
        "null"
      ],
      "properties": {
        "is_save_enabled": {
          "description": "Counts of explorations with save enabled or disabled.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of explorations with save enabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of explorations with save disabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        }
      }
    },
    "browser": {
      "description": "Counts of <metabase-browser> component properties.",
      "type": [
        "object",
        "null"
      ],
      "properties": {
        "read_only": {
          "description": "Counts of browsers with read-only mode enabled or disabled.",
          "type": "object",
          "properties": {
            "true": {
              "description": "Number of browsers with read-only mode enabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            },
            "false": {
              "description": "Number of browsers with read-only mode disabled.",
              "type": "integer",
              "minimum": 0,
              "maximum": 2147483647
            }
          }
        }
      }
    }
  },
  "required": [
    "event",
    "global"
  ]
}
