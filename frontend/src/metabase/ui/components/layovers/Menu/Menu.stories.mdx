import { Canvas, Story, Meta } from "@storybook/addon-docs";
import { Icon } from "metabase/core/components/Icon";
import { Text, Flex } from "metabase/ui";
import { Menu } from "./";

export const args = {
  target: "click",
  position: "bottom",
  width: 200,
  disabled: false,
  openDelay: 0,
  closeDelay: 100,
  closeOnClickOutside: true,
  closeOnEscape: true,
  closeOnItemClick: true,
};

export const argTypes = {
  target: {
    options: ["click", "hover"],
    control: { type: "select" },
  },
  position: {
    options: [
      "bottom",
      "left",
      "right",
      "top",
      "bottom-end",
      "bottom-start",
      "left-end",
      "left-start",
      "right-end",
      "right-start",
      "top-end",
      "top-start",
    ],
    control: { type: "select" },
  },
  width: {
    control: { type: "number" },
  },
  disabled: {
    control: { type: "boolean" },
  },
  openDelay: {
    control: { type: "number" },
  },
  closeDelay: {
    control: { type: "number" },
  },
  closeOnClickOutside: {
    control: { type: "boolean" },
  },
  closeOnEscape: {
    control: { type: "boolean" },
  },
  closeOnItemClick: {
    control: { type: "boolean" },
  },
};

<Meta title="Layovers/Menu" component={Menu} args={args} argTypes={argTypes} />

# Menu

Our themed wrapper around [Mantine Menu](https://mantine.dev/core/menu/).

## When to use Menu

TBD

## Docs

- [Figma File](https://www.figma.com/file/MZhwfwmOaa8HeCBBUCeq7R/Menu?type=design&node-id=1-96&mode=design&t=Q0nq1hUkXN7VFjRt-0)
- [Mantine Menu Docs](https://mantine.dev/core/menu/)

## Caveats

N/A

## Usage guidelines

N/A

## General

export const Default = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Text span>Toggle menu</Text>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Item>Text</Menu.Item>
        <Menu.Item>Text</Menu.Item>
        <Menu.Item>Text</Menu.Item>
        <Menu.Item>Text</Menu.Item>
        <Menu.Item>Text</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="Default">{Default}</Story>
</Canvas>

export const WithRightSection = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Text span>Toggle menu</Text>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Item>Text</Menu.Item>
        <Menu.Item>Text</Menu.Item>
        <Menu.Item>Text</Menu.Item>
        <Menu.Item rightSection={<Text>⌘K</Text>}>Text</Menu.Item>
        <Menu.Item>Text</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="WithRightSection">{WithRightSection}</Story>
</Canvas>

export const WithIcon = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Text span>Toggle menu</Text>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="WithIcon">{WithIcon}</Story>
</Canvas>

export const WithLabelAndDivider = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Text span>Toggle menu</Text>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Label>Label</Menu.Label>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
        <Menu.Divider />
        <Menu.Label>Label</Menu.Label>
        <Menu.Item
          icon={<Icon name="dashboard" />}
          rightSection={<Text>⌘K</Text>}
        >
          Text
        </Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Text</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="WithLabelAndDivider">{WithLabelAndDivider}</Story>
</Canvas>
