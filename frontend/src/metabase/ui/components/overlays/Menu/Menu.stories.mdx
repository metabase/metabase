import { Canvas, Story, Meta } from "@storybook/addon-docs";
import { Icon } from "metabase/core/components/Icon";
import { Button, Flex, Text } from "metabase/ui";
import { Menu } from "./";

export const args = {
  trigger: "click",
  position: "bottom",
  disabled: false,
  closeOnClickOutside: true,
  closeOnEscape: true,
  closeOnItemClick: true,
};

export const argTypes = {
  trigger: {
    options: ["click", "hover"],
    control: { type: "inline-radio" },
  },
  position: {
    options: [
      "bottom",
      "left",
      "right",
      "top",
      "bottom-end",
      "bottom-start",
      "left-end",
      "left-start",
      "right-end",
      "right-start",
      "top-end",
      "top-start",
    ],
    control: { type: "select" },
  },
  width: {
    control: { type: "number" },
  },
  disabled: {
    control: { type: "boolean" },
  },
  openDelay: {
    control: { type: "number" },
  },
  closeDelay: {
    control: { type: "number" },
  },
  closeOnClickOutside: {
    control: { type: "boolean" },
  },
  closeOnEscape: {
    control: { type: "boolean" },
  },
  closeOnItemClick: {
    control: { type: "boolean" },
  },
};

<Meta title="Overlays/Menu" component={Menu} args={args} argTypes={argTypes} />

# Menu

Our themed wrapper around [Mantine Menu](https://mantine.dev/core/menu/).

## When to use Menu

TBD

## Docs

- [Figma File](https://www.figma.com/file/MZhwfwmOaa8HeCBBUCeq7R/Menu?type=design&node-id=1-96&mode=design&t=Q0nq1hUkXN7VFjRt-0)
- [Mantine Menu Docs](https://mantine.dev/core/menu/)

## Caveats

N/A

## Usage guidelines

N/A

## General

export const Default = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Button>Toggle menu</Button>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Item>Question</Menu.Item>
        <Menu.Item>SQL query</Menu.Item>
        <Menu.Item>Dashboard</Menu.Item>
        <Menu.Item>Collection</Menu.Item>
        <Menu.Item>Model</Menu.Item>
        <Menu.Item>Action</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="Default">{Default}</Story>
</Canvas>

export const WithRightSection = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Button>Toggle menu</Button>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Item rightSection={<Text color="inherit">⌘K</Text>}>
          Question
        </Menu.Item>
        <Menu.Item>SQL query</Menu.Item>
        <Menu.Item>Dashboard</Menu.Item>
        <Menu.Item>Collection</Menu.Item>
        <Menu.Item>Model</Menu.Item>
        <Menu.Item>Action</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="WithRightSection">{WithRightSection}</Story>
</Canvas>

export const WithIcon = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Button>Toggle menu</Button>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Item icon={<Icon name="insight" />}>Question</Menu.Item>
        <Menu.Item icon={<Icon name="sql" />}>SQL query</Menu.Item>
        <Menu.Item icon={<Icon name="dashboard" />}>Dashboard</Menu.Item>
        <Menu.Item icon={<Icon name="folder" />}>Collection</Menu.Item>
        <Menu.Item icon={<Icon name="model" />}>Model</Menu.Item>
        <Menu.Item icon={<Icon name="bolt" />}>Action</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="WithIcon">{WithIcon}</Story>
</Canvas>

export const WithLabelAndDivider = args => (
  <Flex justify="center">
    <Menu {...args}>
      <Menu.Target>
        <Button>Toggle menu</Button>
      </Menu.Target>
      <Menu.Dropdown>
        <Menu.Label>Data</Menu.Label>
        <Menu.Item
          icon={<Icon name="insight" />}
          rightSection={<Text color="inherit">⌘K</Text>}
        >
          Question
        </Menu.Item>
        <Menu.Item icon={<Icon name="sql" />}>SQL query</Menu.Item>
        <Menu.Item icon={<Icon name="model" />}>Model</Menu.Item>
        <Menu.Item icon={<Icon name="bolt" />}>Action</Menu.Item>
        <Menu.Divider />
        <Menu.Label>Reporting</Menu.Label>
        <Menu.Item icon={<Icon name="dashboard" />}>Dashboard</Menu.Item>
        <Menu.Item icon={<Icon name="folder" />}>Collection</Menu.Item>
      </Menu.Dropdown>
    </Menu>
  </Flex>
);

<Canvas>
  <Story name="WithLabelAndDivider">{WithLabelAndDivider}</Story>
</Canvas>
