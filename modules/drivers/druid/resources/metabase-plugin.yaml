info:
  name: Metabase Druid Driver
  version: 1.0.0-SNAPSHOT
  description: Allows Metabase to connect to Druid databases.
driver:
  name: druid
  display-name: Druid
  lazy-load: true
  connection-properties:
    - merge:
        - host
        - placeholder: http://localhost
          required: true
          group-id: host-and-port
    - merge:
        - port
        - display-name: Broker node port
          placeholder: 8082
          required: true
          group-id: host-and-port
    - cloud-ip-address-info
    - ssh-tunnel
    - advanced-options-start
    - name: auth-enabled
      display-name: Authentication header
      default: false
      type: boolean
      visible-if:
        advanced-options: true
    - name: auth-username
      display-name: Username
      type: string
      visible-if:
        auth-enabled: true
    - name: auth-token
      display-name: Token
      type: secret
      secret-kind: password
      visible-if:
        auth-enabled: true
    - default-advanced-options
extra:
  field-groups:
    - id: "host-and-port"
      container-style: "host-and-port-section"
init:
  - step: load-namespace
    namespace: metabase.driver.druid
