# Google Sheets Driver for Metabase

–î—Ä–∞–π–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Google Sheets —Å Metabase —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Google Sheets** –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- üöÄ **Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- üîç **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- üìà **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- üìä **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã** –∏ –¥–∞—à–±–æ—Ä–¥—ã
- üîê **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ OAuth2** –∏ Service Accounts

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Metabase 0.48+
- Redis 6+
- Java 11+
- Google Cloud Project —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ Google Sheets API

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud Project

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –í–∫–ª—é—á–∏—Ç–µ Google Sheets API
3. –°–æ–∑–¥–∞–π—Ç–µ Service Account –∏–ª–∏ API Key
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–∞–º

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–∞

#### –°–ø–æ—Å–æ–± 1: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î—Ä–∞–π–≤–µ—Ä —É–∂–µ –≤–∫–ª—é—á–µ–Ω –≤ –∫–æ–¥ Metabase. –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:

1. –°–æ–±–µ—Ä–∏—Ç–µ Metabase —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º:
```bash
cd /workspace/metabase-project
./bin/build-drivers.sh
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Metabase:
```bash
java -jar metabase.jar
```

#### –°–ø–æ—Å–æ–± 2: –í–Ω–µ—à–Ω–∏–π –ø–ª–∞–≥–∏–Ω

1. –°–æ–∑–¥–∞–π—Ç–µ JAR —Ñ–∞–π–ª –¥—Ä–∞–π–≤–µ—Ä–∞:
```bash
cd /workspace/metabase-project
lein uberjar
```

2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ JAR –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–ª–∞–≥–∏–Ω–æ–≤ Metabase:
```bash
cp target/uberjar/google-sheets-driver.jar /path/to/metabase/plugins/
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis
sudo apt-get install redis-server

# –ó–∞–ø—É—Å–∫ Redis
sudo systemctl start redis-server
sudo systemctl enable redis-server

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
redis-cli ping
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Google Sheets

1. –í Metabase –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
2. –í—ã–±–µ—Ä–∏—Ç–µ **Google Sheets** –∏–∑ —Å–ø–∏—Å–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **Spreadsheet URL**: –ü–æ–ª–Ω—ã–π URL Google —Ç–∞–±–ª–∏—Ü—ã
  - –ü—Ä–∏–º–µ—Ä: `https://docs.google.com/spreadsheets/d/1v1aXMDfc9gruLnmJBlVVxRO7Ahila87j9lzEA5Zcj2E/edit`

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- **Sheet Name**: –ù–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –ø–µ—Ä–≤—ã–π –ª–∏—Å—Ç)
- **API Key**: –ö–ª—é—á API –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- **Service Account JSON**: JSON –∫–ª—é—á —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- **Redis URL**: URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `redis://localhost:6379`)
- **Cache TTL**: –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 300)
- **Sync Interval**: –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 60)

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–î—Ä–∞–π–≤–µ—Ä –æ–∂–∏–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ Google Sheets:

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| –¢–µ–º–∞ | –¢–µ–∫—Å—Ç | –¢–µ–º–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è |
| –î–∞—Ç–∞ | –î–∞—Ç–∞/–í—Ä–µ–º—è | –î–∞—Ç–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è |
| –ê–≤—Ç–æ—Ä | –¢–µ–∫—Å—Ç | –ê–≤—Ç–æ—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è |
| –¢–µ–∫—Å—Ç | –¢–µ–∫—Å—Ç | –¢–µ–∫—Å—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è |
| –ê–¥—Ä–µ—Å | –¢–µ–∫—Å—Ç | –ê–¥—Ä–µ—Å –∏–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è |
| –û—Ç–≤–µ—Ç | –õ–æ–≥–∏—á–µ—Å–∫–∏–π | –ï—Å—Ç—å –ª–∏ –æ—Ç–≤–µ—Ç –æ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ª–∏—Ü |
| –†–∞–π–æ–Ω | –¢–µ–∫—Å—Ç | –†–∞–π–æ–Ω |
| –ù–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç | –¢–µ–∫—Å—Ç | –ù–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç |

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –¥–∞—à–±–æ—Ä–¥–æ–≤

#### –ü—Ä–∏–º–µ—Ä SQL –∑–∞–ø—Ä–æ—Å–∞:
```sql
SELECT 
  topic AS "–¢–µ–º–∞",
  COUNT(*) AS "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ",
  AVG(CASE WHEN has_response THEN 1 ELSE 0 END) * 100 AS "–ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–≤–µ—Ç–æ–≤"
FROM comments
GROUP BY topic
ORDER BY COUNT(*) DESC
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
1. –°–æ–∑–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ **"–î–∞—à–±–æ—Ä–¥ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤"**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –†—É—á–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–∫–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API Metabase
curl -X POST http://localhost:3000/api/database/1/sync_schema
```

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
```
GET /api/comments/stats
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º.

### 2. –ü–æ–∏—Å–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
```
GET /api/comments/search
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- topic: —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–º–µ
- author: —Ñ–∏–ª—å—Ç—Ä –ø–æ –∞–≤—Ç–æ—Ä—É
- date_from: –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
- date_to: –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- has_response: –Ω–∞–ª–∏—á–∏–µ –æ—Ç–≤–µ—Ç–∞
- limit: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- offset: —Å–º–µ—â–µ–Ω–∏–µ
```

### 3. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
```
GET /api/comments/analytics
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- period: daily, weekly, monthly, yearly
- group_by: topic, author, district
```

### 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```
POST /api/comments/sync
–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google Sheets.
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
–î—Ä–∞–π–≤–µ—Ä –ø–∏—à–µ—Ç –ª–æ–≥–∏ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ª–æ–≥ Metabase:
- `INFO`: –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `WARN`: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `ERROR`: –û—à–∏–±–∫–∏

### –ú–µ—Ç—Ä–∏–∫–∏
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ Redis

### –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

1. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Google Sheets:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á –∏–ª–∏ Service Account
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

2. **–ü—Ä–æ–±–ª–µ–º—ã —Å Redis:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏

3. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ Google Sheets API

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis:** –î–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
2. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
3. **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –ø–æ–ª—è–º
4. **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞–∫–µ—Ç–∞–º–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è production
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **Google Sheets API:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Service Accounts –¥–ª—è production
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–∞–º
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∫–ª—é—á–∏

2. **Redis:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ —Å–µ—Ç–∏
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ Redis

3. **Metabase:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ API

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/metabase/driver/google_sheets/
‚îú‚îÄ‚îÄ google_sheets.clj          # –û—Å–Ω–æ–≤–Ω–æ–π –¥—Ä–∞–π–≤–µ—Ä
‚îú‚îÄ‚îÄ api.clj                    # Google Sheets API –∫–ª–∏–µ–Ω—Ç
‚îî‚îÄ‚îÄ comments.clj              # –ú–æ–¥–µ–ª—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ Redis
```

### –°–±–æ—Ä–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
lein deps

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
lein test

# –°–±–æ—Ä–∫–∞ JAR
lein uberjar
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
lein test

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
lein test :only metabase.driver.google-sheets-test

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
lein run test-with-real-data
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–î—Ä–∞–π–≤–µ—Ä —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π AGPL v3, –∫–∞–∫ –∏ Metabase.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [Metabase Documentation](https://www.metabase.com/docs/)
- –í–æ–ø—Ä–æ—Å—ã: [GitHub Issues](https://github.com/greenarithmetic/metabase/issues)
- –û–±—Å—É–∂–¥–µ–Ω–∏—è: [Metabase Forum](https://discourse.metabase.com/)

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Google Sheets API:**
   - 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ –ø—Ä–æ–µ–∫—Ç
   - 500 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —è—á–µ–π–∫–∏: 50,000 —Å–∏–º–≤–æ–ª–æ–≤

2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Redis:**
   - –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–º—è—Ç–∏
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis 6+

3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Metabase:**
   - –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–µ—Ä—Å–∏–∏ Metabase
   - –¢—Ä–µ–±—É–µ—Ç—Å—è Java 11+

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –° –≤–µ—Ä—Å–∏–∏ 1.0 –Ω–∞ 1.1
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Metabase
2. –û–±–Ω–æ–≤–∏—Ç–µ JAR —Ñ–∞–π–ª –¥—Ä–∞–π–≤–µ—Ä–∞
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Metabase
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥—Ä–∞–π–≤–µ—Ä–∞ –¥–∞–Ω–Ω—ã–µ –≤ Redis —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è. –î–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞:
```bash
redis-cli FLUSHALL
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—Ä–∞—â–µ–Ω–∏–π –≥—Ä–∞–∂–¥–∞–Ω
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–µ–º –æ–±—Ä–∞—â–µ–Ω–∏–π
- –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤

### 2. –ê–Ω–∞–ª–∏–∑ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –í—ã—è–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ–º —É—Å–ª—É–≥
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω –∂–∞–ª–æ–±
- –û—Ü–µ–Ω–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤