{
    "name": "create-dashboard-subscription",
    "description": "Dashboards can be sent to via email on a regular schedule. This is helpful when a user wants to be kept up to date on the contents of a dashboard. Requirements to use the tool: 1.) You have a valid and complete email address for the recipient (username + @ + domain + TLD) like 'peter.pan@neverland.com'(cannot be used with incomplete emails e.g. 'peter.pan@neverland').  2.) The user provided a valid schedule (**Only full-hour schedules are supported (e.g., 14:00, not 14:30 or 14:15) - non-full-hour requests cannot be fulfilled.**). If the requirements are not met, ask the user for clarification before proceeding.",
    "parameters": {
        "type": "object",
        "properties": {
            "dashboard_id": {
                "type": "integer",
                "description": "The ID of the dashboard to subscribe to."
            },
            "email": {
                "type": "string",
                "description": "A valid and complete email address of the user to whom the dashboard should be sent."
            },
            "schedule": {
                "description": "The schedule at which the dashboard should be sent.",
                "anyOf": [
                    {
                        "type": "object",
                        "properties": {
                            "frequency": {
                                "type": "string",
                                "enum": [
                                    "hourly"
                                ],
                                "description": "Frequency at which the dashboard should be sent"
                            }
                        },
                        "required": [
                            "frequency"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "properties": {
                            "frequency": {
                                "type": "string",
                                "enum": [
                                    "daily"
                                ],
                                "description": "Frequency at which the dashboard should be sent"
                            },
                            "hour": {
                                "type": "integer",
                                "description": "Hour at which the dashboard should be sent. Must be between 0 and 23. Can only be a full hour."
                            }
                        },
                        "required": [
                            "frequency",
                            "hour"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "properties": {
                            "frequency": {
                                "type": "string",
                                "enum": [
                                    "weekly"
                                ],
                                "description": "Frequency at which the dashboard should be sent"
                            },
                            "day_of_week": {
                                "type": "string",
                                "enum": [
                                    "sunday",
                                    "monday",
                                    "tuesday",
                                    "wednesday",
                                    "thursday",
                                    "friday",
                                    "saturday"
                                ],
                                "description": "Day of the week at which the dashboard should be sent"
                            },
                            "hour": {
                                "type": "integer",
                                "description": "Hour at which the dashboard should be sent. Must be between 0 and 23. Can only be a full hour."
                            }
                        },
                        "required": [
                            "frequency",
                            "day_of_week",
                            "hour"
                        ],
                        "additionalProperties": false
                    },
                    {
                        "type": "object",
                        "properties": {
                            "frequency": {
                                "type": "string",
                                "enum": [
                                    "monthly"
                                ],
                                "description": "Frequency at which the dashboard should be sent"
                            },
                            "day_of_month": {
                                "type": "string",
                                "enum": [
                                    "first-calendar-day",
                                    "first-sunday",
                                    "first-monday",
                                    "first-tuesday",
                                    "first-wednesday",
                                    "first-thursday",
                                    "first-friday",
                                    "first-saturday",
                                    "middle-of-month",
                                    "last-calendar-day",
                                    "last-sunday",
                                    "last-monday",
                                    "last-tuesday",
                                    "last-wednesday",
                                    "last-thursday",
                                    "last-friday",
                                    "last-saturday"
                                ],
                                "description": "Day of the month at which the dashboard should be sent"
                            },
                            "hour": {
                                "type": "integer",
                                "description": "Hour at which the dashboard should be sent. Must be between 0 and 23. Can only be a full hour."
                            }
                        },
                        "required": [
                            "frequency",
                            "day_of_month",
                            "hour"
                        ],
                        "additionalProperties": false
                    }
                ]
            }
        },
        "required": [
            "dashboard_id",
            "email",
            "schedule"
        ],
        "additionalProperties": false
    }
}
