#! /usr/bin/env bb

(ns mage
  (:require [babashka.tasks :refer [shell]]
            [clojure.string :as str]))

(defn -main [& _]
  (println " ███╗   ███╗ █████╗  ██████╗ ███████╗")
  (println " ████╗ ████║██╔══██╗██╔════╝ ██╔════╝")
  (println " ██╔████╔██║███████║██║  ███╗█████╗")
  (println " ██║╚██╔╝██║██╔══██║██║   ██║██╔══╝")
  (println " ██║ ╚═╝ ██║██║  ██║╚██████╔╝███████╗")
  (println " ╚═╝     ╚═╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝")
  (println "  The Metabase Automation Genius Engine")
  (println "")
  (if (nil? *command-line-args*)
    (shell "bb tasks")
    (shell (str "bb " (str/join " " *command-line-args*)))))

(when (= *file* (System/getProperty "babashka.file"))
  (-main))
