.notebook-root {
  font-family: var(--vscode-font-family, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif);
  font-size: var(--vscode-font-size, 13px);
  color: var(--vscode-foreground);
  background: var(--vscode-editor-background);
  line-height: 1.6;
  padding: 32px;
  max-width: 720px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

/* ---- Header ---- */
.notebook-header { margin-bottom: 20px; }

.notebook-title-row {
  display: flex;
  align-items: baseline;
  gap: 12px;
  flex-wrap: wrap;
}

.notebook-title {
  font-size: 1.5em;
  font-weight: 700;
  letter-spacing: -0.01em;
  line-height: 1.25;
}

.notebook-description {
  margin-top: 6px;
  color: var(--vscode-descriptionForeground);
  line-height: 1.5;
}

.notebook-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 0.8em;
  font-weight: 500;
  background: var(--vscode-badge-background, rgba(128, 128, 128, .15));
  color: var(--vscode-badge-foreground, var(--vscode-foreground));
  white-space: nowrap;
  vertical-align: middle;
}

.notebook-badge svg { width: 12px; height: 12px; flex-shrink: 0; opacity: .7; }

.notebook-badge--type { text-transform: capitalize; }

/* ---- Toolbar ---- */
.notebook-toolbar {
  display: flex;
  gap: 8px;
  margin-bottom: 24px;
}

.notebook-toolbar-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 6px;
  border: 1px solid var(--vscode-input-border, rgba(128, 128, 128, .3));
  background: transparent;
  color: var(--vscode-foreground);
  font: inherit;
  font-size: 0.85em;
  cursor: pointer;
  transition: background 150ms;
}

.notebook-toolbar-btn:hover {
  background: var(--vscode-list-hoverBackground, rgba(128, 128, 128, .08));
}

.notebook-toolbar-btn svg { flex-shrink: 0; opacity: .6; }

/* ---- Steps ---- */
.notebook-steps {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.notebook-step-label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-weight: 700;
  font-size: 0.85em;
  letter-spacing: 0.01em;
  margin-bottom: 6px;
}

.notebook-step-label svg { flex-shrink: 0; width: 14px; height: 14px; }

.notebook-step-label--brand { color: hsla(208, 72%, 60%, 1); }
.notebook-step-label--filter { color: hsla(240, 65%, 69%, 1); }
.notebook-step-label--summarize { color: hsla(89, 48%, 40%, 1); }
.notebook-step-label--breakout { color: hsla(46, 81%, 52%, 1); }
.notebook-step-label--muted { color: var(--vscode-descriptionForeground); }

.notebook-step-cell {
  border-radius: 8px;
  padding: 14px;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
}

.notebook-step-cell--brand { background: hsla(208, 72%, 60%, .1); }
.notebook-step-cell--filter { background: hsla(240, 65%, 69%, .1); }
.notebook-step-cell--summarize { background: hsla(89, 48%, 40%, .1); }
.notebook-step-cell--breakout { background: hsla(46, 81%, 52%, .1); }
.notebook-step-cell--muted { background: var(--vscode-input-background, rgba(128, 128, 128, .06)); }

/* ---- Pills ---- */
.notebook-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  border-radius: 6px;
  font-weight: 700;
  font-size: 0.85em;
  line-height: 1.3;
  white-space: nowrap;
  cursor: default;
  text-decoration: none;
  color: inherit;
}

a.notebook-pill { cursor: pointer; }
a.notebook-pill:hover { opacity: .85; }

.notebook-pill--brand { background: hsla(208, 72%, 60%, 1); color: #fff; }
.notebook-pill--filter { background: hsla(240, 65%, 69%, 1); color: #fff; }
.notebook-pill--summarize { background: hsla(89, 48%, 40%, 1); color: #fff; }
.notebook-pill--breakout { background: hsla(46, 81%, 52%, 1); color: #fff; }
.notebook-pill--muted { background: var(--vscode-badge-background, rgba(128, 128, 128, .2)); color: var(--vscode-foreground); }

/* ---- SQL block ---- */
.notebook-sql {
  background: transparent;
  border-radius: 6px;
  padding: 14px;
  overflow-x: auto;
  font-family: var(--vscode-editor-font-family, 'Menlo', 'Consolas', monospace);
  font-size: var(--vscode-editor-font-size, 13px);
  line-height: 1.7;
  white-space: pre-wrap;
  word-wrap: break-word;
  width: 100%;
}

.notebook-sql-keyword { color: var(--vscode-symbolIcon-keywordForeground, #569cd6); font-weight: 600; text-transform: uppercase; }
.notebook-sql-string  { color: var(--vscode-symbolIcon-stringForeground, #ce9178); }
.notebook-sql-number  { color: var(--vscode-symbolIcon-numberForeground, #b5cea8); }
.notebook-sql-comment { color: var(--vscode-symbolIcon-commentForeground, #6a9955); font-style: italic; }

/* Code block (Python, etc.) */
.notebook-code {
  background: transparent;
  border-radius: 6px;
  padding: 14px;
  overflow-x: auto;
  font-family: var(--vscode-editor-font-family, 'Menlo', 'Consolas', monospace);
  font-size: var(--vscode-editor-font-size, 13px);
  line-height: 1.7;
  white-space: pre-wrap;
  word-wrap: break-word;
  width: 100%;
}

/* ---- Footer ---- */
.notebook-footer {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid var(--vscode-input-border, rgba(128, 128, 128, .15));
}

.notebook-target-label {
  display: flex;
  align-items: center;
  gap: 5px;
  color: var(--vscode-descriptionForeground);
  font-weight: 600;
  font-size: 0.85em;
}

.notebook-target-label svg { width: 14px; height: 14px; opacity: .6; }

.notebook-empty-state {
  color: var(--vscode-descriptionForeground);
  text-align: center;
  padding: 48px 16px;
}
