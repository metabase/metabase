interface IconProps {
  size?: number;
  className?: string;
  style?: React.CSSProperties;
}

function SvgIcon({
  size = 16,
  className,
  style,
  children,
  viewBox = "0 0 16 16",
  fillRule,
  clipRule,
}: IconProps & {
  children: React.ReactNode;
  viewBox?: string;
  fillRule?: string;
  clipRule?: string;
}) {
  return (
    <svg
      viewBox={viewBox}
      fill="currentColor"
      width={size}
      height={size}
      className={className}
      style={{ flexShrink: 0, ...style }}
      fillRule={fillRule as "evenodd" | "nonzero" | undefined}
      clipRule={clipRule as "evenodd" | "nonzero" | undefined}
      xmlns="http://www.w3.org/2000/svg"
    >
      {children}
    </svg>
  );
}

export function TableIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M12.667 1.25c1.15 0 2.083.933 2.083 2.083v9.334c0 1.15-.933 2.083-2.083 2.083H3.333a2.083 2.083 0 0 1-2.083-2.083V3.333c0-1.15.933-2.083 2.083-2.083h9.334zm-9.917 9.5v1.917c0 .322.261.583.583.583H7.25v-2.5h-4.5zm6 0v2.5h3.917a.583.583 0 0 0 .583-.583V10.75h-4.5zm-6-1.5h4.5v-2.5h-4.5v2.5zm6 0h4.5v-2.5h-4.5v2.5zm-5.417-6.5a.583.583 0 0 0-.583.583V5.25h4.5v-2.5H3.333zm5.417 2.5h4.5V3.333a.583.583 0 0 0-.583-.583H8.75v2.5z" />
    </SvgIcon>
  );
}

export function DashboardIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M4.75 9a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5zM4 6.25a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.75 5.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5z" />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M1.25 3c0-.966.784-1.75 1.75-1.75h10c.966 0 1.75.784 1.75 1.75v10A1.75 1.75 0 0 1 13 14.75H3A1.75 1.75 0 0 1 1.25 13V3zm1.5 10V3.5h10.5V13a.25.25 0 0 1-.25.25H3a.25.25 0 0 1-.25-.25z"
      />
    </SvgIcon>
  );
}

export function ModelIcon(props: IconProps) {
  return (
    <SvgIcon {...props} fillRule="evenodd" clipRule="evenodd">
      <path d="M8.5 1.423a1 1 0 0 0-1 0L2.554 4.278a1 1 0 0 0-.5.866v5.712a1 1 0 0 0 .5.866L7.5 14.577a1 1 0 0 0 1 0l4.946-2.855a1 1 0 0 0 .5-.866V5.144a1 1 0 0 0-.5-.866L8.5 1.423zM3.554 6.207v4.36l3.696 2.134V8.425L3.554 6.207zM8.75 12.7l3.696-2.134v-4.36L8.75 8.425V12.7zm2.868-7.746L8 2.866 4.382 4.955 8 7.125l3.618-2.17z" />
    </SvgIcon>
  );
}

export function MetricIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M10.562 5.499 12.25 3.81v8.439H3.81L5.5 10.562l.915.915 1.063-1.063-.915-.915.937-.937.915.915 1.063-1.063-.915-.915.937-.937.915.915 1.063-1.063-.915-.915Zm3.188-2.775c0-.935-1.131-1.404-1.793-.742l-9.975 9.976c-.662.661-.193 1.792.742 1.792H13.75V2.724Z"
      />
    </SvgIcon>
  );
}

export function SqlIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M3.53 2.97a.75.75 0 0 0-1.06 1.06L5.44 7 2.47 9.97a.75.75 0 1 0 1.06 1.06l3.5-3.5a.75.75 0 0 0 0-1.06l-3.5-3.5zM7 12.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5H7z" />
    </SvgIcon>
  );
}

export function SnippetIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M1.25 4c0-.966.784-1.75 1.75-1.75a.75.75 0 0 1 0 1.5.25.25 0 0 0-.25.25v2.586c0 .464-.184.909-.513 1.237L2.061 8l.176.177c.329.328.513.773.513 1.237V12c0 .138.112.25.25.25a.75.75 0 0 1 0 1.5A1.75 1.75 0 0 1 1.25 12V9.414a.25.25 0 0 0-.073-.177L.47 8.53a.75.75 0 0 1 0-1.06l.707-.707a.25.25 0 0 0 .073-.177V4zM4.75 11a.75.75 0 0 1 .75-.75H8a.75.75 0 0 1 0 1.5H5.5a.75.75 0 0 1-.75-.75zM4.75 8a.75.75 0 0 1 .75-.75H11a.75.75 0 0 1 0 1.5H5.5A.75.75 0 0 1 4.75 8zM5.5 4.25a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5h-4zM13 13.75A1.75 1.75 0 0 0 14.75 12V9.414a.25.25 0 0 1 .073-.177l.707-.707a.75.75 0 0 0 0-1.06l-.707-.707a.25.25 0 0 1-.073-.177V4A1.75 1.75 0 0 0 13 2.25a.75.75 0 0 0 0 1.5.25.25 0 0 1 .25.25v2.586c0 .464.184.909.513 1.237l.176.177-.176.177a1.75 1.75 0 0 0-.513 1.237V12a.25.25 0 0 1-.25.25.75.75 0 0 0 0 1.5z" />
    </SvgIcon>
  );
}

export function DocumentIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M8.848 1.25c.451 0 .886.175 1.212.487l3.152 3.027c.344.33.538.786.538 1.262V12.8c0 .527-.219 1.026-.597 1.39-.377.362-.882.56-1.403.56h-7.5c-.52 0-1.026-.199-1.403-.56-.331-.318-.54-.74-.587-1.194l-.01-.196V3.2c0-.527.218-1.026.597-1.39.377-.361.882-.56 1.403-.56h4.598zM4.25 2.75a.528.528 0 0 0-.364.143.427.427 0 0 0-.136.307v9.6l.009.082c.017.081.059.16.127.225a.528.528 0 0 0 .364.143h7.5a.528.528 0 0 0 .364-.143.428.428 0 0 0 .136-.307V6.575H9.249A.575.575 0 0 1 8.674 6V2.75H4.25zm6.4 7.425a.576.576 0 0 1 0 1.15H5.4a.575.575 0 0 1 0-1.15h5.25zm0-2.25a.576.576 0 0 1 0 1.15H5.4a.575.575 0 0 1 0-1.15h5.25zm-3.651-2.25a.576.576 0 0 1 0 1.15h-1.6a.575.575 0 0 1 0-1.15H7zm2.825-.25h1.91L9.824 3.59v1.834z" />
    </SvgIcon>
  );
}

export function SegmentIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M4 3a1 1 0 0 0-1 1v3h6v6h3a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4z" />
      <path d="M8 8H2v5a1 1 0 0 0 1 1h5V8z" />
    </SvgIcon>
  );
}

export function TransformIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M8.6748 6.83105L12.8584 4.41602L13.5332 5.58398L9.34863 7.99902L13.5332 10.416L12.8584 11.584L8.6748 9.16797V14H7.3252V9.16797L3.1416 11.584L2.4668 10.416L6.65137 7.99902L2.4668 5.58398L3.1416 4.41602L7.3252 6.83105V2H8.6748V6.83105Z" />
    </SvgIcon>
  );
}

export function SumIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M2.295 2.745A.75.75 0 0 1 3 2.25h9a.75.75 0 1 1 0 1.5H5.072l3.486 2.906c.84.7.84 1.989 0 2.688L5.072 12.25h6.763a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.48-1.326l5.078-4.232a.25.25 0 0 0 0-.384L2.52 3.576a.75.75 0 0 1-.225-.831z" />
    </SvgIcon>
  );
}

export function CollectionIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M7.66457 1.32895C7.87572 1.22336 8.12428 1.22336 8.33543 1.32895L14.3354 4.32922C14.5895 4.45627 14.75 4.71597 14.75 5.00004C14.75 5.28412 14.5895 5.54381 14.3354 5.67085L8.33541 8.67085C8.12426 8.77642 7.87574 8.77642 7.66459 8.67085L1.66459 5.67085C1.41051 5.54381 1.25001 5.28412 1.25 5.00004C1.24999 4.71597 1.41049 4.45627 1.66457 4.32922L7.66457 1.32895ZM3.67699 5L8 7.1615L12.323 5L8 2.8383L3.67699 5Z"
      />
      <path d="M1.32934 10.6647C1.51459 10.2942 1.96509 10.144 2.33557 10.3293L8.00016 13.1616L13.6648 10.3293C14.0352 10.144 14.4857 10.2942 14.671 10.6647C14.8562 11.0352 14.7061 11.4857 14.3356 11.6709L8.33557 14.6709C8.12443 14.7765 7.8759 14.7765 7.66475 14.6709L1.66475 11.6709C1.29427 11.4857 1.1441 11.0352 1.32934 10.6647Z" />
      <path d="M2.33557 7.32922C1.96509 7.14398 1.51459 7.29415 1.32934 7.66463C1.1441 8.03511 1.29427 8.48562 1.66475 8.67086L7.66475 11.6709C7.8759 11.7765 8.12443 11.7765 8.33557 11.6709L14.3356 8.67086C14.7061 8.48562 14.8562 8.03511 14.671 7.66463C14.4857 7.29415 14.0352 7.14398 13.6648 7.32922L8.00016 10.1616L2.33557 7.32922Z" />
    </SvgIcon>
  );
}

export function DatabaseIcon(props: IconProps) {
  return (
    <SvgIcon {...props} fillRule="evenodd" clipRule="evenodd">
      <path d="M2.665 13.67A.75.75 0 0 1 2.25 13V3a.75.75 0 0 1 .415-.67l.002-.002.002-.001.008-.004.024-.011a7.465 7.465 0 0 1 .38-.164c.255-.103.623-.236 1.088-.37A14.023 14.023 0 0 1 8 1.25c1.583 0 2.903.264 3.831.529.465.133.833.266 1.088.368a7.5 7.5 0 0 1 .38.165l.024.011.008.004.003.001L13 3l.335-.671A.751.751 0 0 1 13.75 3v10a.75.75 0 0 1-.415.67l-.002.002-.002.001-.008.004-.024.011a7.443 7.443 0 0 1-.38.164 11.33 11.33 0 0 1-1.088.37A14.02 14.02 0 0 1 8 14.75a14.02 14.02 0 0 1-3.831-.529 11.327 11.327 0 0 1-1.088-.368 7.409 7.409 0 0 1-.38-.165l-.024-.011-.008-.004-.002-.001-.002-.001zM3.75 3.497c.207-.079.487-.177.831-.275A12.524 12.524 0 0 1 8 2.75c1.417 0 2.597.236 3.419.471.344.098.624.196.831.275v1.24l-.096.038c-.327.133-.642.26-1.106.388-.674.185-1.604.338-3.048.338s-2.374-.153-3.049-.338a8.97 8.97 0 0 1-1.106-.388l-.095-.039V3.496zm7.695 3.113c.289-.08.559-.171.805-.262v2.388l-.096.04c-.327.132-.642.26-1.106.387-.674.185-1.604.338-3.048.338s-2.374-.153-3.049-.338a8.97 8.97 0 0 1-1.201-.427V6.347c.246.091.516.182.805.262C5.378 6.834 6.444 7 8 7c1.556 0 2.621-.166 3.445-.391zM3.75 10.347v2.157c.207.079.487.177.831.275.822.235 2.002.471 3.419.471 1.417 0 2.597-.236 3.419-.471.344-.098.624-.196.831-.275v-2.157c-.246.09-.516.182-.805.261-.824.226-1.89.393-3.445.393-1.556 0-2.622-.167-3.445-.393a9.777 9.777 0 0 1-.805-.26z" />
    </SvgIcon>
  );
}

export function SearchIcon(props: IconProps) {
  return (
    <SvgIcon {...props} fillRule="evenodd" clipRule="evenodd">
      <path d="M7 1.25a5.75 5.75 0 1 0 3.501 10.312l2.969 2.968a.75.75 0 1 0 1.06-1.06L11.562 10.5A5.75 5.75 0 0 0 7 1.25zM2.75 7a4.25 4.25 0 1 1 8.5 0 4.25 4.25 0 0 1-8.5 0z" />
    </SvgIcon>
  );
}

export function CloseIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M4.53 3.47a.75.75 0 0 0-1.06 1.06L6.94 8l-3.47 3.47a.75.75 0 1 0 1.06 1.06L8 9.06l3.47 3.47a.75.75 0 1 0 1.06-1.06L9.06 8l3.47-3.47a.75.75 0 0 0-1.06-1.06L8 6.94 4.53 3.47z" />
    </SvgIcon>
  );
}

export function Table2Icon(props: IconProps) {
  return (
    <SvgIcon {...props} fillRule="evenodd" clipRule="evenodd">
      <path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3zm1.5 6V7h1.947v2H3.5zm0 1.5v2h1.947v-2H3.5zm3.447 0v2H12.5v-2H6.947zM12.5 9V7H6.947v2H12.5zM5.447 5.5H3.5v-2h1.947v2zm1.5 0H12.5v-2H6.947v2z" />
    </SvgIcon>
  );
}

export function FolderIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M3.2 3.75a.501.501 0 0 0-.339.126.322.322 0 0 0-.111.235v7.778c0 .076.032.162.111.235a.5.5 0 0 0 .339.126h9.6a.501.501 0 0 0 .339-.126.322.322 0 0 0 .111-.235v-5.96a.322.322 0 0 0-.111-.235.501.501 0 0 0-.339-.126H7.71l-2-1.818H3.2zm-1.358-.975A2 2 0 0 1 3.2 2.25h3.09l2 1.818h4.51a2 2 0 0 1 1.358.525c.371.344.592.823.592 1.336v5.96c0 .513-.22.992-.592 1.336a2 2 0 0 1-1.358.525H3.2a2 2 0 0 1-1.358-.525 1.821 1.821 0 0 1-.592-1.336V4.11c0-.513.22-.992.592-1.336z"
      />
    </SvgIcon>
  );
}

export function HashIcon(props: IconProps) {
  return (
    <SvgIcon {...props} fillRule="evenodd">
      <path d="M7.245 3.583a.75.75 0 0 0-1.49-.166L5.55 5.25H3.5a.75.75 0 0 0 0 1.5h1.884l-.277 2.5H3.5a.75.75 0 0 0 0 1.5h1.44l-.185 1.667a.75.75 0 1 0 1.49.166l.204-1.833h2.49l-.184 1.667a.75.75 0 1 0 1.49.166l.204-1.833H12.5a.75.75 0 0 0 0-1.5h-1.884l.278-2.5H12.5a.75.75 0 0 0 0-1.5h-1.44l.185-1.667a.75.75 0 0 0-1.49-.166L9.55 5.25h-2.49l.184-1.667zM6.894 6.75l-.278 2.5h2.49l.278-2.5h-2.49z" />
    </SvgIcon>
  );
}

export function KeyIcon(props: IconProps) {
  return (
    <SvgIcon {...props} viewBox="0 0 32 32" fillRule="evenodd">
      <path d="M11.504 7.998c-.642-2.736 1.507-6.551 5.486-6.551 3.93 0 6.192 3.924 5.267 6.978a6.468 6.468 0 0 0-3.197-.882 6.48 6.48 0 0 0-4.367 1.788 6.437 6.437 0 0 0-.605-.029c-3.432 0-6.215 2.777-6.215 6.201 0 1.603.61 3.064 1.61 4.165l-.499.99.216 2.114-1.664.687a.286.286 0 0 0-.165.41l.585 1.376-1.672.542c-.18.058-.268.237-.215.405l.477 1.544-1.52.525a.286.286 0 0 0-.188.41l1.209 3.283a.284.284 0 0 0 .423.046l3.021-.955c.172-.054.379-.226.463-.385l4.87-9.16a6.47 6.47 0 0 0 2.865-.897 4.564 4.564 0 0 1-.368.013c-3.044 0-5.51-2.651-5.51-5.922 0-2.132 1.048-3.998 2.62-5.043a6.423 6.423 0 0 0-1.585 4.137c0 3.254 2.512 5.923 5.707 6.18l.576 1.647 1.67 1.313-.662 1.674a.286.286 0 0 0 .18.403l1.397.536-.772 1.579a.286.286 0 0 0 .142.437l1.442.73-.678 1.457a.286.286 0 0 0 .164.42l3.201 1.411a.284.284 0 0 0 .443-.16l1.412-2.838a.614.614 0 0 0 .045-.6l-3.309-10.183a6.468 6.468 0 0 0 1.81-4.007c1.623-3.857-1.278-9.243-6.475-9.243-4.87 0-7.562 4.47-6.963 7.998h1.477zm7.555 6.779a2.072 2.072 0 0 0 2.072-2.067 2.072 2.072 0 0 0-2.072-2.067 2.072 2.072 0 0 0-2.072 2.067c0 1.142.928 2.067 2.072 2.067z" />
    </SvgIcon>
  );
}

export function ConnectionsIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M3.309 8.75a4.75 4.75 0 0 0 8.05 2.615.75.75 0 1 0-1.06-1.06 3.25 3.25 0 0 1-2.21.95A.77.77 0 0 0 8 11.25a3.25 3.25 0 0 1-3.25-3.246 3.25 3.25 0 0 1 5.548-2.296.75.75 0 0 0 1.06-1.06 4.75 4.75 0 0 0-3.25-1.39A.757.757 0 0 0 8 3.25a4.75 4.75 0 0 0-4.69 4H2a.75.75 0 0 0 0 1.5h1.309z" />
      <path d="M14 8.75a.75.75 0 0 0 0-1.5H9.855a2 2 0 1 0 0 1.5H14z" />
    </SvgIcon>
  );
}

export function ActionIcon(props: IconProps) {
  return (
    <SvgIcon {...props}>
      <path d="M8.674 1.633a.75.75 0 0 1 .415.918L7.39 7.25h4.86a.75.75 0 0 1 .598 1.198l-5.25 7a.75.75 0 0 1-1.387-.549L7.91 10.25H3.75a.75.75 0 0 1-.652-1.122l4.5-8a.75.75 0 0 1 1.076-.495z" />
    </SvgIcon>
  );
}

export type IconName =
  | "table"
  | "dashboard"
  | "model"
  | "metric"
  | "sql"
  | "snippet"
  | "document"
  | "segment"
  | "transform"
  | "sum"
  | "collection"
  | "database"
  | "search"
  | "close"
  | "table2"
  | "folder"
  | "hash"
  | "key"
  | "connections"
  | "action";

const ICON_MAP: Record<IconName, React.FC<IconProps>> = {
  table: TableIcon,
  dashboard: DashboardIcon,
  model: ModelIcon,
  metric: MetricIcon,
  sql: SqlIcon,
  snippet: SnippetIcon,
  document: DocumentIcon,
  segment: SegmentIcon,
  transform: TransformIcon,
  sum: SumIcon,
  collection: CollectionIcon,
  database: DatabaseIcon,
  search: SearchIcon,
  close: CloseIcon,
  table2: Table2Icon,
  folder: FolderIcon,
  hash: HashIcon,
  key: KeyIcon,
  connections: ConnectionsIcon,
  action: ActionIcon,
};

export function Icon({
  name,
  ...props
}: IconProps & { name: IconName }) {
  const IconComponent = ICON_MAP[name] ?? Table2Icon;
  return <IconComponent {...props} />;
}
